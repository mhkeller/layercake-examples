<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width" name=viewport> <meta content=#ff00cc name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=layercake-logo-100.png rel=icon type=image/png> <meta content=https://layercake.graphics property=og:site_name> <meta content=article property=og:type> <meta content=summary_large_image name=twitter:card> <meta content=https://layercake.graphics/layercake-logo-1200.png property=og:image> <meta content="A framework for mostly-reusable graphics with svelte" property=og:description> <meta content="A framework for mostly-reusable graphics with svelte" name=description> <meta content="layercake, graphics, svelte, graphics framework, svelte graphics framework, data viz, data visualization, reusable, mostly-reusable" name=keywords> <meta content=https://layercake.graphics property=og:url> <link href=https://layercake.graphics/favicon.png rel="shortcut icon" type=image/png> <meta content=https://layercake.graphics name=twitter:site> <meta content=https://layercake.graphics/layercake-logo-1200.png name=twitter:image> <style>.chart-container{width:100%;height:100%}.input-container{user-select:none}.mousecatcher.svelte-1b93ew4{position:fixed;left:0;top:0;width:100vw;height:100vh;background-color:#000;pointer-events:none;opacity:0;z-index:3}.mousecatcher.open.svelte-1b93ew4{pointer-events:all;opacity:.3}@keyframes svelte-1b93ew4-fadein{from{opacity:0}to{opacity:1}}.container.svelte-1b93ew4{position:fixed;width:100%;height:2.5em;background-color:#fff;color:#000;border-bottom:1px solid rgb(170,30,30,.1);font-family:SignPainter,Helvetica,sans-serif;z-index:5}.dropdown.svelte-1b93ew4{position:fixed;top:21px;transform:translate(0,-50%);font-family:SignPainter,Helvetica,sans-serif;font-size:25px;z-index:6;line-height:1;right:1rem;left:auto}.dropdown.svelte-1b93ew4 li.svelte-1b93ew4{padding:0;margin:0;display:inline-block;vertical-align:top}.dropdown.svelte-1b93ew4 li.svelte-1b93ew4:before{color:#000;content:'View...';margin-right:.25em}nav.svelte-1b93ew4{position:fixed;width:14em;height:calc(100vh - 2.5em);top:2.5em;font-family:SignPainter,Helvetica,sans-serif;background-color:#fff;transform:translate(-100%,0);transition:transform .2s cubic-bezier(.17,.67,.24,.99);border-right:1px solid #eee;z-index:5;padding:1em;user-select:none}.open.svelte-1b93ew4{transform:translate(0,0);transition:transform .3s cubic-bezier(.17,.67,.24,.99);overflow-y:auto}.menu-link.svelte-1b93ew4{display:inline;position:absolute;top:50%;left:1rem;transform:translate(0,-50%);font-size:25px;line-height:1;color:#000;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.menu-link.menu-open.svelte-1b93ew4{color:#999}.menu-link.svelte-1b93ew4:hover{text-decoration:underline}.logo.svelte-1b93ew4{position:absolute;top:50%;left:50%;transform:translate(-50%,-45%);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;line-height:1;text-decoration:none;font-weight:700;color:#000;font-size:25px}ul.svelte-1b93ew4{display:block;margin:0;padding:0;list-style:none}.primary.svelte-1b93ew4{margin:0 0 .5em 0}.primary.svelte-1b93ew4 li.svelte-1b93ew4{position:relative;display:block}.primary.svelte-1b93ew4 li a.svelte-1b93ew4{display:block;font-size:25px;padding:0 0 .75em 0;text-decoration:none;line-height:1}.logo.svelte-1b93ew4:hover,.primary.svelte-1b93ew4 a.svelte-1b93ew4:hover{text-decoration:underline}.secondary.svelte-1b93ew4{font-family:Helvetica,sans-serif;padding-bottom:2em}.secondary.svelte-1b93ew4 .guide-toc>li{margin-bottom:1.5em!important}@media(max-width:450px){.dropdown.svelte-1b93ew4 select.svelte-1b93ew4{max-width:60px}}@media(max-width:500px){.dropdown.svelte-1b93ew4 li.svelte-1b93ew4:before{content:''}}@media(min-width:1100px){.dropdown.svelte-1b93ew4{left:calc((100vw - 800px)/ 2)!important;transform:translate(0,0)!important}}@media(min-width:645px){.menu-link.svelte-1b93ew4,.mousecatcher.svelte-1b93ew4{display:none}.dropdown.svelte-1b93ew4{top:1rem;left:50%;transform:translate(-50%,0);right:auto}.dropdown.svelte-1b93ew4 li.svelte-1b93ew4:before{content:'View example...';margin-right:.25em}.container.svelte-1b93ew4{height:3.5em}nav.svelte-1b93ew4{width:100%;height:3.5em;padding:0 1.5em 0 0;transform:none;transition:none;height:0}.primary.svelte-1b93ew4{position:fixed;top:1rem;right:1.5rem;margin:0}.primary.svelte-1b93ew4 li.svelte-1b93ew4{display:inline-block;position:relative;padding:0 1em}.primary.svelte-1b93ew4 li.svelte-1b93ew4:first-child::after{position:absolute;top:-2px;right:-3px;content:'|';font-size:25px}.primary.svelte-1b93ew4 li.svelte-1b93ew4:last-child::after{content:''}.secondary.svelte-1b93ew4{display:none}.logo.svelte-1b93ew4{position:absolute;top:1rem;left:1.5rem;text-decoration:none;transform:none}}.guide-toc.svelte-12f7dp8{margin:0;padding:0}.guide-toc.svelte-12f7dp8 a.svelte-12f7dp8{text-decoration:none}.guide-toc.svelte-12f7dp8 a.svelte-12f7dp8:hover{text-decoration:underline}.guide-toc.svelte-12f7dp8 li.svelte-12f7dp8{display:block;margin:0 0 1.5em 0}.section.svelte-12f7dp8{display:block;font-weight:700;color:#333;font-size:1.2rem;margin:0 0 .15em 0}.subsection.svelte-12f7dp8{display:block;color:#727272;font-size:1em;margin:0 0 .15em 0}.section.active.svelte-12f7dp8,.subsection.active.svelte-12f7dp8{color:#f0c}.svelte-ref-sidebar.svelte-131k9qa{position:fixed;background-color:#fff;top:61px;left:0;display:none;height:calc(100% - (2.7em + 67px));width:11.75em;padding:1.18em 1em 2em 1.5em;overflow-y:auto}.svelte-ref-container.svelte-131k9qa{width:100%;tab-size:2;margin-top:-7rem;padding:7em 2em 2em 2em;box-sizing:border-box}h2.svelte-131k9qa{padding:4rem 0 0 0;margin:-3rem 0 1.05rem 0;font-size:2.4em;font-weight:400;pointer-events:none}small.svelte-131k9qa{font-size:14px;opacity:.5;float:right;line-height:4.4;pointer-events:all}section.svelte-131k9qa small a{color:#333}section.svelte-131k9qa pre h2{padding:.2em 0;border-bottom:1px solid rgba(0,0,0,.1);font-size:1.2em;color:rgba(0,0,0,.5)}section.svelte-131k9qa .code-block{position:relative}section.svelte-131k9qa .filename{background:#f9f9f9;font-size:16px;padding:6px 12px 4px 12px;display:inline-block;top:0;border-left:2px solid #eee;border-radius:2px 2px 0 0;border-top:1px solid #eee;font-family:Inconsolata,monospace;color:rgba(0,0,0,.4);line-height:1}section.svelte-131k9qa h3{font-size:1.2em;font-weight:800;margin:-4em 0 1em 0;padding-top:6em;position:relative}section.svelte-131k9qa h3>a{width:25px;height:25px;background-image:url(icons/link.svg);background-repeat:no-repeat;position:absolute;transform:translate(0,-3px);box-sizing:border-box;padding-left:30px;background-position:center center;display:none}section.svelte-131k9qa h3:hover>a{display:inline-block}section.svelte-131k9qa h3>code{font-weight:400}section.svelte-131k9qa h3 .function{font-weight:400}section.svelte-131k9qa h3 .call{font-weight:400}section.svelte-131k9qa p{margin:0 0 1em 0;font-family:Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:300;color:#181818;line-height:1.5}section.svelte-131k9qa a{text-decoration:none;color:#f0c}section.svelte-131k9qa a:hover{text-decoration:underline}section.svelte-131k9qa strong{font-weight:700}section.svelte-131k9qa code{background-color:#f9f9f9;padding:.2em .4em;border-radius:3px}section.svelte-131k9qa a code{color:#f0c}section.svelte-131k9qa pre code{padding:0}section.svelte-131k9qa pre{overflow-x:auto}section.svelte-131k9qa:first-child h3{border:none}section.svelte-131k9qa{border-bottom:1px solid #eee;max-width:64em;margin:0 auto 2em auto;padding:0 0 2em 0}section.svelte-131k9qa:last-child{border:none}section.svelte-131k9qa .CodeMirror,section.svelte-131k9qa .code-block pre{background-color:#f9f9f9;border-left:2px solid #eee;padding:8px;margin:0 0 1em 0}section.svelte-131k9qa .code-block pre{padding:12px 8px 12px 12px}section.svelte-131k9qa p,section.svelte-131k9qa ul{max-width:48em}section.svelte-131k9qa ol,section.svelte-131k9qa ul{line-height:1.5}section.svelte-131k9qa li{margin:0}section.svelte-131k9qa blockquote{position:relative;color:#999;margin:1em 0;padding:.5em 0 .5em 2.5em;max-width:48em;border-top:1px solid #eee;border-bottom:1px solid #eee}section.svelte-131k9qa blockquote p{color:#666}section.svelte-131k9qa blockquote p:last-child{margin:0}section.svelte-131k9qa blockquote::before{content:'üç∞';position:absolute;left:5px;top:7px;font-size:1.5em;font-weight:800;width:1em;height:1em;text-align:center;line-height:1;border-radius:50%}section.svelte-131k9qa table{margin:0 0 2em 0;width:100%}section.svelte-131k9qa td,section.svelte-131k9qa th{text-align:left;border-bottom:1px solid #eee;padding:.2em .5em .2em 0;line-height:1.8}section.svelte-131k9qa table code,section.svelte-131k9qa table span{white-space:pre}@media(min-width:768px){.svelte-ref-sidebar.svelte-131k9qa{display:block}.svelte-ref-container.svelte-131k9qa{padding-left:15em;padding-right:8em}h2.svelte-131k9qa{padding:4rem 0 0 0;margin:-3rem 0 1.05em 0}section.svelte-131k9qa h3{padding-top:3.5em;margin:-2em 0 1em 0}}</style> <noscript id=sapper-head-start></noscript><title>LayerCake - Guide</title><meta content="Layer Cake ‚Äî Guide" name=og:title><meta content="Layer Cake ‚Äî Guide" name=twitter:title><link href=hljs.css rel=stylesheet><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper><div class="svelte-1b93ew4 closed mousecatcher"></div> <div class="svelte-1b93ew4 container"> <span class="svelte-1b93ew4 menu-closed menu-link">Menu</span> <a href=. class="svelte-1b93ew4 logo">Layer Cake</a> </div> <ul class="svelte-1b93ew4 dropdown"> <li class=svelte-1b93ew4> <select class=svelte-1b93ew4> <option value="">All</option> <option value=examples/Line>Line + area<option value=examples/ScatterWebgl>WebGl Scatter<option value=examples/MapSvg>Map<option value=examples/MapLayered>Multilayer map<option value=examples/Column>Annotated column<option value=examples/ColumnStacked>Stacked column<option value=examples/Bar>Bar<option value=examples/BarStacked>Stacked bar<option value=examples/MultiLine>Multiline<option value=examples/AreaStacked>Stacked area<option value=examples/Scatter>Scatter<option value=examples/ClevelandDotPlot>Cleveland dot plot<option value=examples/Calendar>Calendar<option value=examples/Timeplot>Time of day plot<option value=examples/Histogram>Histogram<option value=examples/SmallMultiples>Small multiples</option> </select> </li> </ul> <nav class="svelte-1b93ew4 closed"> <ul class="svelte-1b93ew4 primary"> <li class=svelte-1b93ew4><a href=guide class="svelte-1b93ew4 active" rel=prefetch>Guide</a></li> <li class=svelte-1b93ew4><a href=https://github.com/mhkeller/layercake class=svelte-1b93ew4>GitHub</a></li> </ul> <div class="svelte-1b93ew4 secondary"> <ul class="svelte-12f7dp8 guide-toc"> <li class=svelte-12f7dp8> <a href=guide#introduction class="svelte-12f7dp8 section">Introduction</a> <a href=guide#what-is-layer-cake class="svelte-12f7dp8 subsection">What is Layer Cake?</a><a href=guide#getting-started class="svelte-12f7dp8 subsection">Getting started</a><a href=guide#layer-components class="svelte-12f7dp8 subsection">Layer components</a><a href=guide#more-layer-types class="svelte-12f7dp8 subsection">More layer types</a><a href=guide#data-less-cakes class="svelte-12f7dp8 subsection">Data-less cakes</a> <li class=svelte-12f7dp8> <a href=guide#store-api class="svelte-12f7dp8 section">Store API</a> <a href=guide#target class="svelte-12f7dp8 subsection">target</a><a href=guide#data class="svelte-12f7dp8 subsection">data</a><a href=guide#x class="svelte-12f7dp8 subsection">x</a><a href=guide#y class="svelte-12f7dp8 subsection">y</a><a href=guide#r class="svelte-12f7dp8 subsection">r</a><a href=guide#padding class="svelte-12f7dp8 subsection">padding</a><a href=guide#xscale class="svelte-12f7dp8 subsection">xScale</a><a href=guide#yscale class="svelte-12f7dp8 subsection">yScale</a><a href=guide#rscale class="svelte-12f7dp8 subsection">rScale</a><a href=guide#xdomain class="svelte-12f7dp8 subsection">xDomain</a><a href=guide#ydomain class="svelte-12f7dp8 subsection">yDomain</a><a href=guide#rdomain class="svelte-12f7dp8 subsection">rDomain</a><a href=guide#reversex class="svelte-12f7dp8 subsection">reverseX</a><a href=guide#reversey class="svelte-12f7dp8 subsection">reverseY</a><a href=guide#xpadding class="svelte-12f7dp8 subsection">xPadding</a><a href=guide#ypadding class="svelte-12f7dp8 subsection">yPadding</a><a href=guide#rpadding class="svelte-12f7dp8 subsection">rPadding</a><a href=guide#rrange class="svelte-12f7dp8 subsection">rRange</a><a href=guide#xnice class="svelte-12f7dp8 subsection">xNice</a><a href=guide#ynice class="svelte-12f7dp8 subsection">yNice</a><a href=guide#rnice class="svelte-12f7dp8 subsection">rNice</a><a href=guide#flatdata class="svelte-12f7dp8 subsection">flatData</a> <li class=svelte-12f7dp8> <a href=guide#cake-api class="svelte-12f7dp8 section">Cake API</a> <a href=guide#svglayers class="svelte-12f7dp8 subsection">cake.svgLayers(...)</a><a href=guide#htmllayers class="svelte-12f7dp8 subsection">cake.htmlLayers(...)</a><a href=guide#canvaslayers class="svelte-12f7dp8 subsection">cake.canvasLayers(...)</a><a href=guide#webgllayers class="svelte-12f7dp8 subsection">cake.webglLayers(...)</a><a href=guide#render class="svelte-12f7dp8 subsection">cake.render(...)</a> <li class=svelte-12f7dp8> <a href=guide#computed-store-functions class="svelte-12f7dp8 section">Computed Store Properties</a> <a href=guide#activekeys class="svelte-12f7dp8 subsection">activeKeys</a><a href=guide#box class="svelte-12f7dp8 subsection">box</a><a href=guide#domains class="svelte-12f7dp8 subsection">domains</a><a href=guide#originalsettings class="svelte-12f7dp8 subsection">originalSettings</a><a href=guide#xget class="svelte-12f7dp8 subsection">xGet(...)</a><a href=guide#yget class="svelte-12f7dp8 subsection">yGet(...)</a><a href=guide#rget class="svelte-12f7dp8 subsection">rGet(...)</a> <li class=svelte-12f7dp8> <a href=guide#helper-functions class="svelte-12f7dp8 section">Helper functions</a> <a href=guide#newdiv class="svelte-12f7dp8 subsection">newDiv(...)</a><a href=guide#flatten class="svelte-12f7dp8 subsection">flatten(...)</a><a href=guide#scalecanvas class="svelte-12f7dp8 subsection">scaleCanvas(...)</a><a href=guide#calcextents class="svelte-12f7dp8 subsection">calcExtents(...)</a><a href=guide#uniques class="svelte-12f7dp8 subsection">uniques(...)</a> </li> </ul> </div> </nav> <main> <sidebar class="svelte-131k9qa svelte-ref-sidebar"> <ul class="svelte-12f7dp8 guide-toc"> <li class=svelte-12f7dp8> <a href=guide#introduction class="svelte-12f7dp8 section">Introduction</a> <a href=guide#what-is-layer-cake class="svelte-12f7dp8 subsection">What is Layer Cake?</a><a href=guide#getting-started class="svelte-12f7dp8 subsection">Getting started</a><a href=guide#layer-components class="svelte-12f7dp8 subsection">Layer components</a><a href=guide#more-layer-types class="svelte-12f7dp8 subsection">More layer types</a><a href=guide#data-less-cakes class="svelte-12f7dp8 subsection">Data-less cakes</a> <li class=svelte-12f7dp8> <a href=guide#store-api class="svelte-12f7dp8 section">Store API</a> <a href=guide#target class="svelte-12f7dp8 subsection">target</a><a href=guide#data class="svelte-12f7dp8 subsection">data</a><a href=guide#x class="svelte-12f7dp8 subsection">x</a><a href=guide#y class="svelte-12f7dp8 subsection">y</a><a href=guide#r class="svelte-12f7dp8 subsection">r</a><a href=guide#padding class="svelte-12f7dp8 subsection">padding</a><a href=guide#xscale class="svelte-12f7dp8 subsection">xScale</a><a href=guide#yscale class="svelte-12f7dp8 subsection">yScale</a><a href=guide#rscale class="svelte-12f7dp8 subsection">rScale</a><a href=guide#xdomain class="svelte-12f7dp8 subsection">xDomain</a><a href=guide#ydomain class="svelte-12f7dp8 subsection">yDomain</a><a href=guide#rdomain class="svelte-12f7dp8 subsection">rDomain</a><a href=guide#reversex class="svelte-12f7dp8 subsection">reverseX</a><a href=guide#reversey class="svelte-12f7dp8 subsection">reverseY</a><a href=guide#xpadding class="svelte-12f7dp8 subsection">xPadding</a><a href=guide#ypadding class="svelte-12f7dp8 subsection">yPadding</a><a href=guide#rpadding class="svelte-12f7dp8 subsection">rPadding</a><a href=guide#rrange class="svelte-12f7dp8 subsection">rRange</a><a href=guide#xnice class="svelte-12f7dp8 subsection">xNice</a><a href=guide#ynice class="svelte-12f7dp8 subsection">yNice</a><a href=guide#rnice class="svelte-12f7dp8 subsection">rNice</a><a href=guide#flatdata class="svelte-12f7dp8 subsection">flatData</a> <li class=svelte-12f7dp8> <a href=guide#cake-api class="svelte-12f7dp8 section">Cake API</a> <a href=guide#svglayers class="svelte-12f7dp8 subsection">cake.svgLayers(...)</a><a href=guide#htmllayers class="svelte-12f7dp8 subsection">cake.htmlLayers(...)</a><a href=guide#canvaslayers class="svelte-12f7dp8 subsection">cake.canvasLayers(...)</a><a href=guide#webgllayers class="svelte-12f7dp8 subsection">cake.webglLayers(...)</a><a href=guide#render class="svelte-12f7dp8 subsection">cake.render(...)</a> <li class=svelte-12f7dp8> <a href=guide#computed-store-functions class="svelte-12f7dp8 section">Computed Store Properties</a> <a href=guide#activekeys class="svelte-12f7dp8 subsection">activeKeys</a><a href=guide#box class="svelte-12f7dp8 subsection">box</a><a href=guide#domains class="svelte-12f7dp8 subsection">domains</a><a href=guide#originalsettings class="svelte-12f7dp8 subsection">originalSettings</a><a href=guide#xget class="svelte-12f7dp8 subsection">xGet(...)</a><a href=guide#yget class="svelte-12f7dp8 subsection">yGet(...)</a><a href=guide#rget class="svelte-12f7dp8 subsection">rGet(...)</a> <li class=svelte-12f7dp8> <a href=guide#helper-functions class="svelte-12f7dp8 section">Helper functions</a> <a href=guide#newdiv class="svelte-12f7dp8 subsection">newDiv(...)</a><a href=guide#flatten class="svelte-12f7dp8 subsection">flatten(...)</a><a href=guide#scalecanvas class="svelte-12f7dp8 subsection">scaleCanvas(...)</a><a href=guide#calcextents class="svelte-12f7dp8 subsection">calcExtents(...)</a><a href=guide#uniques class="svelte-12f7dp8 subsection">uniques(...)</a> </li> </ul> </sidebar> <div class="svelte-131k9qa content svelte-ref-container"> <section class=svelte-131k9qa id=introduction> <h2 class=svelte-131k9qa> Introduction <small class=svelte-131k9qa><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/00-introduction.md rel=nofollow target=_blank>edit this section</a></small> </h2> <h3 id=what-is-layer-cake>What is Layer Cake?<a href=/guide#what-is-layer-cake> </a></h3><p>Layer Cake is a graphics framework, built on top of <a href=https://svelte.technology>Svelte</a> that removes the boilerplate from making responsive web graphics. it gives you common elements, like a coordinate system and scales, for you to start creating your own dataviz layers, like axes, plots and annotations.</p> <p>Give it some data and a target DOM element and Layer Cake will create a <a href=https://svelte.technology/guide#state-management>Svelte store</a> that includes scales bound to your element's dimensions and the data's extents. Layer Cake also includes higher level methods to organize multiple SVG, HTML and Canvas layers that use these scales.</p> <p>By breaking a part a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web languages (SVG, Canvas, HTML, WebGL) by giving you a common coordinate system. You may be using Canvas for a scatterplot, SVG for axes and HTML for annotations but they all read from a common store and appear seamless to the viewer. You can choose the best technology for that part of the graphic without worrying about how it will interact with other elements.</p> <blockquote> <p>Layer Cake uses D3 scales. See more in the <a href=/guide#xscale>xScale</a>, <a href=/guide#yscale>yScale</a> and <a href=/guide#rscale>rScale</a> sections of the <a href=/guide#store-api>Store API</a>.</p> </blockquote> <p>Layer Cake is more about having a system to organize your own custom components than it is a high-level charting library. It doesn't have any built-in concepts or strong opinions about how your data should be structured.</p> <blockquote> <p>See the <a href=/guide#flatdata><code>flatData</code></a> option in the <a href=/guide#store-api>Store API</a> section and the <a href=/guide#flatten><code>flatten</code></a> helper function for more info about data structure.</p> </blockquote> <h3 id=getting-started>Getting started<a href=/guide#getting-started> </a></h3><p>Install Layer Cake in your <code>devDependencies</code> alongside Svelte.</p> <div class=code-block><pre><code>npm install --save-dev layercake</code></pre></div><p>The easiest way to get started is to clone down or use <a href=https://github.com/rich-harris/degit>degit</a> to grab the starter template at <a href=https://github.com/mhkeller/layercake-template>github.com/mhkeller/layercake-template</a>.</p> <p>The important files are like your <code>index.html</code> which has the DOM element we want to render into and the cake configuration in <code>main.js</code>:</p> <div class=code-block><pre><code>my-app
 ‚îú‚îÄ‚îÄ index.html
 ‚îî‚îÄ‚îÄ js
   ‚îî‚îÄ‚îÄ main.js</code></pre></div><div class="code-block named"><span class=filename> index.html</span><pre><code><span class=hljs-comment>&lt;!-- The target div needs to have a width and a height --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"chart-target"</span> <span class=hljs-attr>style</span>=<span class=hljs-string>"width: 100%; height: 300px;"</span>></span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><div class="code-block named"><span class=filename> js/main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-comment>// Define some data</span>
<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-comment>// Instantiate the cake, point it to our target div</span>
<span class=hljs-comment>// and which keys to look for on the data</span>
<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>),
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>
});

<span class=hljs-built_in>console</span>.log(myCake.get());</code></pre></div><blockquote> <p>Each of the chart examples on the home page can be run locally by clicking into them and clikcing <code>Download</code>. If you are using Layer Cake within Sapper, the code here in <code>main.js</code> would go inside your components <code>oncreate()</code> method, which is how this examples site is built.</p> </blockquote> <p>The <code>myCake</code> variable is a Svelte Store that just computed different properties to use in our chart. Because we gave Layer Cake values for <code>x</code> and <code>y</code>, it has measured the extent of our data's x- and y-dimensions and created <code>xScale</code> and <code>yScale</code> properties. It has also measured our DOM element as well as created x- and y-accessors so, for a given row of our data we can compute the value in our coordinate system.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> { x, y, xScale, yScale } = myCake.get();

points.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
  <span class=hljs-keyword>const</span> firstPoint = [xScale(x(d)), yScale(y(d))];
});</code></pre></div><blockquote> <p>You can also use the shorthand <code>[xGet(d), yGet(d)]</code>. See the <a href=/guide#store-api>Store API</a> section for a full list of computed properties.</p> </blockquote> <p>Because Layer Cake has bound the target DOM element's dimensions to your scales, all computed properties will update on resize automatically.</p> <h3 id=layer-components>Layer components<a href=/guide#layer-components> </a></h3><p>While it's perfectly fine to use Layer Cake as a store and implement the rest of your project your own way, the library also comes with higher-level methods to create graphic layers and lay them out in a common coordinate space.</p> <p>To do this, pass a list of Svelte components to any of the <code>.svgLayers</code>, <code>.htmlLayers</code>, <code>.canvasLayers</code> or <code>.webglLayers</code> methods. When you've added all the layers to your cake, run <code>.render()</code>.</p> <p>Here's an example creating an SVG scatter plot using the above data.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
<span class=hljs-keyword>import</span> Scatter <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Scatter.html'</span>;

<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
})
  .svgLayers([
	{ <span class=hljs-attr>component</span>: Scatter, <span class=hljs-attr>opts</span>: { <span class=hljs-attr>fill</span>: <span class=hljs-string>'blue'</span>, <span class=hljs-attr>r</span>: <span class=hljs-number>3</span> } } <span class=hljs-comment>// The opts field is optional but exists to let you pass settings down to your components so they can be more reusable.</span>
  ])

myCake.render();</code></pre></div><div class="code-block named"><span class=filename> /components/Scatter.html</span><pre><code>{#each $data as d}
  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>'{xGet(d)}'</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>'{yGet(d)}'</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>'{opts.fill}'</span> <span class=hljs-attr>r</span>=<span class=hljs-string>'{opts.r}'</span> /></span>
{/each}</code></pre></div><blockquote> <p>We've defined the circle's fill color and radius size in <code>main.js</code> using the <code>opts</code> field. You could very well hardcode these values into your layer component. Passing in values from <code>mains.js</code> is shown here to give an example of how you can make your components more reusable. For example, you could use the same layer component to render small multiples, but pass in a color to highlight one of them.</p> </blockquote> <p>Our DOM now looks something like this:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>svg</span> <span class=hljs-attr>width</span>=<span class=hljs-string>"&lt;el width>"</span> <span class=hljs-attr>height</span>=<span class=hljs-string>"&lt;el height>"</span>></span>
  <span class=hljs-comment>&lt;!-- One main g to wrap all layers --></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
	<span class=hljs-comment>&lt;!-- Scatter g --></span>
	<span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	<span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>svg</span></span></code></pre></div><h3 id=more-layer-types>More layer types<a href=/guide#more-layer-types> </a></h3><p>We just saw how to add SVG layers with the <code>.svgLayers</code> method. You also have <code>htmlLayers</code> and <code>canvasLayers</code>. For the SVG and HTML groups, every item in the array will create a new DOM element to render into, <code>&lt;g></code> for SVG and <code>&lt;div></code> for HTML. For Canvas, since there's no DOM equivalent, each layer renders into the same Canvas context. See the <a href=examples/Scatter>Scatter canvas</a> example for details.</p> <p>Layers are rendered in the order they appear and you can call these methods multiple times to create a new layout group.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>import</span> ScatterCanvas <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/ScatterCanvas.html'</span>;
<span class=hljs-keyword>import</span> AxisX <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisX.html'</span>;
<span class=hljs-keyword>import</span> AxisY <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisY.html'</span>;
<span class=hljs-keyword>import</span> Annotations <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Annotations.html'</span>;

<span class=hljs-keyword>const</span> blurbs = [
  { <span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>text</span>: <span class=hljs-string>'Look at this value!'</span>}
];

<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
})
  .canvasLayers([
	{ <span class=hljs-attr>component</span>: Scatter, <span class=hljs-attr>opts</span>: { <span class=hljs-attr>fill</span>: <span class=hljs-string>'blue'</span>, <span class=hljs-attr>r</span>: <span class=hljs-number>3</span> } }
  ])
  .svgLayers([
	{ <span class=hljs-attr>component</span>: AxisX, <span class=hljs-attr>opts</span>: { } },
	{ <span class=hljs-attr>component</span>: AxisY, <span class=hljs-attr>opts</span>: { } }
  ])
  .htmlLayers([
	{ <span class=hljs-attr>component</span>: Annotations, <span class=hljs-attr>opts</span>: { blurbs } }
  ]);
  <span class=hljs-comment>// If you needed to, you could do `.svgLayers` again...</span>

myCake.render();</code></pre></div><blockquote> <p>Many common chart types have example pages. See the gallery at <a href=https://layercake.graphics>https://layercake.graphics</a> or use the dropdown menu at the top of the page to navigate to one.</p> </blockquote> <h3 id=data-less-cakes>Data-less cakes<a href=/guide#data-less-cakes> </a></h3><p>You can also use Layer Cake to simply arrange SVG, HTML, Canvas and WebGL elements on top of one another, sharing the same dimensions. For example, this would be handy if you have some SVG artwork that you want to put on top of an HTML video player.</p> <p>Here's an example just setting the <code>target</code> value.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
<span class=hljs-keyword>import</span> Frame <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Frame.html'</span>;
<span class=hljs-keyword>import</span> VideoPlayer <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/VideoPlayer.html'</span>;

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
})
  .svgLayers([
	{ <span class=hljs-attr>component</span>: Frame }
  ])
  .htmlLayers([
	{ <span class=hljs-attr>component</span>: VideoPlayer }
  ]);

myCake.render();</code></pre></div> </section><section class=svelte-131k9qa id=store-api> <h2 class=svelte-131k9qa> Store API <small class=svelte-131k9qa><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/01-store-api.md rel=nofollow target=_blank>edit this section</a></small> </h2> <p>These are the options you can pass into <code>new LayerCake()</code>. You can also set your own custom values and they will be normal store properties. Many of the examples do this to set color scales or other values that will be used across components, for instance. To make sure the names don't conflict, the examples suffix any custom properties with an underscore, but it's not required.</p> <h3 id=target>target <code>DOM Node</code><a href=/guide#target> </a></h3><p>The DOM object you want to use as the the basis for measurements and for rendering into.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'my-chart'</span>)
});</code></pre></div><blockquote> <p>Only <code>target</code> is required. Everything else is optional.</p> </blockquote> <h3 id=data>data <code>Array</code><a href=/guide#data> </a></h3><p>A list of data items. This is available on the store as <code>$data</code>.</p> <h3 id=x>x <code>String|Function|Array</code><a href=/guide#x> </a></h3><p>The key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to an accessor function available on the store as <code>$x</code>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'myX'</span>,
  <span class=hljs-comment>// equivalent to...</span>
  x: <span class=hljs-function>(<span class=hljs-params>d</span>) =></span> d.myX
});</code></pre></div><p>You can also give this value an array of strings or arrays of functions. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts and Cleveland dot plots. See the <a href=/examples/BarStacked>Stacked bar</a>, <a href=/examples/AreaStacked>Stacked area</a> or <a href=/examples/ColumnStacked>Stacked colummn</a> for complete examples.</p> <p>Here's an overview using the <code>d3.stack()</code> to make a horizontal bar chart, which will have two values for the x-accessor.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>640</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>960</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>320</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>480</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>}
];

<span class=hljs-keyword>const</span> stack = d3.stack()
	.keys([<span class=hljs-string>'apples'</span>, <span class=hljs-string>'bananas'</span>, <span class=hljs-string>'cherries'</span>, <span class=hljs-string>'dates'</span>]);

<span class=hljs-keyword>const</span> series = stack(data);</code></pre></div><p>The data is now an array of values. The <code>month</code> values you can't see because sneakily stashes them as a property on the array, accessible as <code>d.data</code>.</p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]], <span class=hljs-comment>// apples</span>
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]], <span class=hljs-comment>// bananas</span>
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]], <span class=hljs-comment>// cherries</span>
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]  <span class=hljs-comment>// dates</span>
]</code></pre></div><p>The x- and y-accessors would then look like this:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>1</span>],
  <span class=hljs-attr>y</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.data.month
});</code></pre></div><p>Calls to <code>x(dataRow)</code> in this scenario will return the two-value array. Calls to <code>xGet(dataRow)</code> will return a two-value array, mapped through the <a href=/guide#xscale>xScale</a>.</p> <h3 id=y>y <code>String|Function|Array</code><a href=/guide#y> </a></h3><p>Same as <a href=/guide#x>x</a> but for the y scale. The accessor function is available on the store as <code>$y</code>.</p> <h3 id=r>r <code>String|Function|Array</code><a href=/guide#r> </a></h3><p>Same as <a href=/guide#x>x</a> but for the r scale. The accessor function is available on the store as <code>$r</code>.</p> <h3 id=padding>padding <code>Object</code><a href=/guide#padding> </a></h3><p>An object that can specify <code>top</code>, <code>right</code>, <code>bottom</code>, or <code>left</code> padding in pixels. Any unspecified values are filled in as <code>0</code>. Padding operates like CSS <code>box-sizing: border-box;</code> where values are subtracted from the target container's width and height, the same as <a href=https://bl.ocks.org/mbostock/3019563>a D3 margin convention</a>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>padding</span>: { <span class=hljs-attr>top</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>right</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>bottom</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>left</span>: <span class=hljs-number>0</span> },
  <span class=hljs-comment>// equivalent to...</span>
  padding: { <span class=hljs-attr>top</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>right</span>: <span class=hljs-number>10</span> }
});</code></pre></div><blockquote> <p>Another way to set padding is to add it via normal CSS on your <a href=/guide#target>target</a> div. The target element is assigned CSS of <code>box-sizing: border-box;</code> so padding settings won't affect the width or height. If you set any padding via CSS, the padding object will be ignored.</p> </blockquote> <h3 id=xscale>xScale <code>d3Scale()</code><a href=/guide#xscale> </a></h3><p>Pass in an instantiated D3 scale if you want to override the default <code>d3.scaleLinear()</code> or you want to add extra options.</p> <p>See the <a href=/examples/Column>Column chart</a> for an example of passing in a <code>d3.scaleBand()</code> to override the default.</p> <h3 id=yscale>yScale <code>d3Scale()</code><a href=/guide#yscale> </a></h3><p>Same as <a href=/guide#xscale>xScale</a> but for the y scale. The default is <code>d3.scaleLinear()</code>.</p> <h3 id=rscale>rScale <code>d3Scale()</code><a href=/guide#rscale> </a></h3><p>Same as <a href=/guide#xscale>xScale</a> but for the r scale. The default is <code>d3.scaleSqrt()</code>.</p> <h3 id=xdomain>xDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#xdomain> </a></h3><p>Set a min or max on the x scale. If you want to inherit the value from the data's extent, set that value to <code>null</code>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>xDomain</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>100</span>], <span class=hljs-comment>// Fixes the x scale's domain</span>
  <span class=hljs-comment>// or..</span>
  xDomain: [<span class=hljs-number>0</span>, <span class=hljs-literal>null</span>], <span class=hljs-comment>// Fixes the min but allows the max to be whatever is in the data</span>
});</code></pre></div><h3 id=ydomain>yDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#ydomain> </a></h3><p>Same as <a href=/guide#xdomain>xDomain</a> but for the y scale.</p> <h3 id=rdomain>rDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#rdomain> </a></h3><p>Same as <a href=/guide#xdomain>xDomain</a> but for the r scale.</p> <h3 id=reversex>reverseX <code>Boolean=false</code><a href=/guide#reversex> </a></h3><p>Reverse the default x domain. By default this is <code>false</code> and the domain is <code>[0, width]</code>.</p> <h3 id=reversey>reverseY <code>Boolean=true</code><a href=/guide#reversey> </a></h3><p>Reverse the default y domain. By default this is <code>true</code> and the domain is <code>[height, 0]</code>.</p> <h3 id=xpadding>xPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#xpadding> </a></h3><p>Assign a pixel value to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. It uses D3 scale's <a href=https://github.com/d3/d3-scale#continuous_invert>invert function</a>, so this only applies to continuous scales like <code>scaleLinear</code>. This is useful for adding extra space to a scatter plot so that your circles don't interfere with your y axis.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>xPadding</span>: [<span class=hljs-number>10</span>, <span class=hljs-number>10</span>], <span class=hljs-comment>// Add ten pixels of data units to both sides of the scale's domain</span>
});</code></pre></div><h3 id=ypadding>yPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#ypadding> </a></h3><p>Same as <a href=/guide#xpadding>xPadding</a> but for the y domain.</p> <h3 id=rpadding>rPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#rpadding> </a></h3><p>Same as <a href=/guide#xpadding>xPadding</a> but for the r domain.</p> <h3 id=rrange>rRange <code>Array:[min: Number, max: Number]</code><a href=/guide#rrange> </a></h3><p>If you're using the r scale, set it's range here since it doesn't infer that from anything in the layout. The r scale defaults to <code>d3.scaleSqrt</code> so make sure you don't use a zero in your range.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>rRange</span>: [<span class=hljs-number>1</span>, <span class=hljs-number>100</span>]
});</code></pre></div><h3 id=xnice>xNice <code>Boolean=false</code><a href=/guide#xnice> </a></h3><p>Applies D3's <a href=https://github.com/d3/d3-scale#continuous_nice>scale.nice()</a> to the x domain. This is a separate option instead of being one you can apply to a passed in scale because D3's "nice" transformation only works on existing domains and does not use a state to be able to tell if your existing scale wants to be nice.</p> <h3 id=ynice>yNice <code>Boolean=false</code><a href=/guide#ynice> </a></h3><p>Same as <a href=/guide#xpadding>xNice</a> but for the y domain.</p> <h3 id=rnice>rNice <code>Boolean=false</code><a href=/guide#rnice> </a></h3><p>Same as <a href=/guide#xpadding>xNice</a> but for the r domain.</p> <h3 id=flatdata>flatData <code>Array</code><a href=/guide#flatdata> </a></h3><p>In order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can find. If your data is not flat (often the case if your renderers prefer a more nested format), you can tell it to measure extents against a flat version. This <em>will not</em> change the shape of the data that gets passed to components ‚Äî it is only for extent calculation.</p> <blockquote> <p>The library also exports a flattening function to handle common use cases if you need to flatten your data and you don't already have a flat version. See the <a href=/guide#flatten>flatten</a> helper function for more info.</p> </blockquote> <p>Here's an example showing passing different data formats for extent calculation versus what is used by layer components.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> flatData = [
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>320</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},

  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>480</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>}
];

<span class=hljs-keyword>const</span> data = [
  {
	<span class=hljs-attr>key</span>: <span class=hljs-string>'apples'</span>,
	<span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>}, ...]
  },
  {
	<span class=hljs-attr>key</span>: <span class=hljs-string>'bananas'</span>,
	<span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>}, ...]
  },
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
	target,
	<span class=hljs-attr>x</span>: <span class=hljs-string>'month'</span>,
	<span class=hljs-attr>y</span>: <span class=hljs-string>'value'</span>,
	data,
	flatData
  });</code></pre></div> </section><section class=svelte-131k9qa id=cake-api> <h2 class=svelte-131k9qa> Cake API <small class=svelte-131k9qa><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/02-cake-api.md rel=nofollow target=_blank>edit this section</a></small> </h2> <p>When you run <code>new LayerCake(StoreValues)</code> the Svelte store you get back has the following methods.</p> <p>Each of the <code>xyzLayers</code> functions takes as a first argument an array of objects for each layer. You can optionally pass in an options object as the second argument. All of the layers methods share this pattern:</p> <div class=code-block><pre><code>.xyzLayers([
  { <span class=hljs-attr>component</span>: SvelteComponent, <span class=hljs-attr>opts</span>: {} }
], {
  <span class=hljs-attr>zIndex</span>: <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>optional</span> <span class=hljs-attr>z-index</span> <span class=hljs-attr>number</span>></span>
  // Canvas and WebGL will pass along other values put here as options to the native methods
})</span></code></pre></div><p>If you set an <code>opts</code> object on your component layer, those values will be available in the component under <code>opts</code>, e.g. <code>{ component: MyComponent, opts: { color: '#f0c' } }</code>.</p> <blockquote> <p>All of the container elements created by <code>Layers</code> functions are absolutely positioned and use any <a href=#padding>padding</a> that is set. That way, they share the same coordinate system and can sit one on top of another.</p> </blockquote> <h3 id=svglayers><span class=function>cake.</span>svgLayers<span class=call>(<span class=arguments>components: <code>Array</code>[, opts: <code>Object</code>]</span>)</span><a href=/guide#svglayers> </a></h3><p>Creates a <code>&lt;svg></code> element containing one <code>&lt;g></code> wrapper element, which gets translated based on any <a href=#padding>padding</a>.</p> <p>For every component layer in the passed in array, a <code>&lt;g></code> element is created.</p> <h3 id=htmllayers><span class=function>cake.</span>htmlLayers<span class=call>(<span class=arguments>components: <code>Array</code>[, opts: <code>Object</code>]</span>)</span><a href=/guide#htmllayers> </a></h3><p>Creates a <code>&lt;div></code> element.</p> <p>For every component layer in the passed in array, a <code>&lt;div></code> element is created.</p> <h3 id=canvaslayers><span class=function>cake.</span>canvasLayers<span class=call>(<span class=arguments>components: <code>Array</code>[, opts: <code>Object</code>]</span>)</span><a href=/guide#canvaslayers> </a></h3><p>Creates a <code>&lt;canvas></code> element.</p> <p>Because canvas elements have no DOM representation for each layer, you get access to the canvas and the 2d context as <em>data items</em> in each layer component. These aren't store values since you could have multiple canvas elements in a cake.</p> <p>This means you access the <code>canvas</code> and <code>ctx</code> using <code>this.get()</code> instead of <code>this.store.get()</code>. For example, here's how a scatterplot layer component would be implemented in canvas.</p> <div class="code-block named"><span class=filename> CanvasLayer.html</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> {
  oncreate () {
	<span class=hljs-keyword>const</span> { canvas, ctx } = <span class=hljs-keyword>this</span>.get();
	<span class=hljs-keyword>const</span> { xGet, yGet, data } = <span class=hljs-keyword>this</span>.store.get();

	data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
	  ctx.beginPath();
	  ctx.arc(xGet(d), yGet(d), opts.r, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
	  ctx.fillStyle = opts.color;
	  ctx.fill();
	});
  }
};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><p>Canvas layouts have more options for <code>opts</code>. Anything you set here (except for <code>zIndex</code>) will get passed as the second argument to <code>canvas.getContext('2d', opts)</code>. See the <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext>Canvas docs</a> for what options are possible.</p> <h3 id=webgllayers><span class=function>cake.</span>webglLayers<span class=call>(<span class=arguments>components: <code>Array</code>[, opts: <code>Object</code>]</span>)</span><a href=/guide#webgllayers> </a></h3><p>Same as the canvas element except instead of <code>ctx</code> you have <code>gl</code> as a component-level data item, which is your webgl context. If webgl is not supported, <code>gl</code> will be <code>null</code>.</p> <p>Same as in <code>.canvasLayers</code>, any options that you set on <code>opts</code> (except for <code>zIndex</code>) will get passed as the second argument to <code>canvas.getContext('webgl', opts)</code>. See the <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext>Canvas docs</a> for what options are possible.</p> <h3 id=render><span class=function>cake.</span>render<span class=call>(<span class=arguments>options: <code>Object</code></span>)</span><a href=/guide#render> </a></h3><p>Instantiates your cake and layout groups. Returns an object <code>{ app, store }</code> where <code>app</code> is the instantiated Svelte app and <code>store</code> is the cake's Svelte store. Any options you pass in are added as <a href=https://svelte.technology/guide#component-options>Svelte options</a>, including <code>hydrate</code>.</p> </section><section class=svelte-131k9qa id=computed-store-functions> <h2 class=svelte-131k9qa> Computed Store Properties <small class=svelte-131k9qa><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/04-computed-store-functions.md rel=nofollow target=_blank>edit this section</a></small> </h2> <p>Some convenience functions and other internal properties are exposed to the user on the store in case they're handy.</p> <h3 id=activekeys>activeKeys <code>Array</code><a href=/guide#activekeys> </a></h3><p>A list of all the keys that have an accessor set.</p> <div class=code-block><pre><code>[<span class=hljs-string>'x'</span>, <span class=hljs-string>'y'</span>, <span class=hljs-string>'r'</span>]</code></pre></div><h3 id=box>box <code>Object</code><a href=/guide#box> </a></h3><p>A bounding box object of the <a href=/guide#target>target</a> element with <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>, <code>width</code> and <code>height</code> numbers in pixels. Useful for creating tooltips.</p> <h3 id=domains>domains <code>Object</code><a href=/guide#domains> </a></h3><p>An object containing a key for every <a href=/guide#activekeys>active key</a> whose value is a two-value array representing the min and max values for that field in the data. This value could differ from the domain of your scale if you are manually setting a limit on your scale by setting any of the <code>xDomain</code>, <code>yDomain</code> or <code>rDomain</code> settings. This is used internally to set domain things but it's also useful as a reference if you want to toggle between an arbitrary domain and the measured extents of the data, such as in the <a href=/examples/SmallMultiples>small multiples example</a>.</p> <h3 id=originalsettings>originalSettings <code>Object</code><a href=/guide#originalsettings> </a></h3><p>A shallow copy of the object passed in to <code>new LayerCake(&lt;settings>)</code>. This can be useful to refer to in some situations such as in the <a href=/examples/ClevelandDotPlot>Cleveland Dot Plot example</a>, which uses the x-accessor shorthand of providing a list of keys. This list of strings gets mapped to a list of accessor functions inside the layer component but we can reference that original list of strings to know which field we're in based on index, which gets passed to the color scale! Broadly, having access to this field can help you not repeat yourself in specifying things twice or in scenarios where Layer Cake is doing a transformation on that original value, like in accessors or domain inputs, and you want to know about the original value.</p> <h3 id=xget>xGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#xget> </a></h3><p>Often you want to get the x value from a row in your data and scale it like so: <code>$xScale($x(d))</code>. This function is shorthand for doing just that. Super handy!</p> <p>Here's an example from a simple SVG line path generator:</p> <div class=code-block><pre><code>computed: {
  <span class=hljs-attr>path</span>: <span class=hljs-function>(<span class=hljs-params>{ $data, $xGet, $yGet }</span>) =></span> {
	<span class=hljs-keyword>return</span> <span class=hljs-string>'M'</span> + $data
	  .map(<span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>d, i</span>) </span>{
		<span class=hljs-keyword>return</span> $xGet(d) + <span class=hljs-string>','</span> + $yGet(d);
	  })
	  .join(<span class=hljs-string>'L'</span>);
  }
}</code></pre></div><h3 id=yget>yGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#yget> </a></h3><p>Same as <a href=/guide#xget>xGet</a> but for the y scale.</p> <h3 id=rget>rGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#rget> </a></h3><p>Same as <a href=/guide#xget>xGet</a> but for the r scale.</p> </section><section class=svelte-131k9qa id=helper-functions> <h2 class=svelte-131k9qa> Helper functions <small class=svelte-131k9qa><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/99-helper-functions.md rel=nofollow target=_blank>edit this section</a></small> </h2> <p>Layer Cake exposes some commonly-used helper functions. If you don't use them, they will be tree-shaken so there's no added bloat!</p> <h3 id=newdiv>newDiv<span class=call>(<span class=arguments>className: <code>String</code>[, styles: <code>Object</code>, parent: <code>DOM Node</code>]</span>)</span><a href=/guide#newdiv> </a></h3><p>Easily create new divs. If you pass a DOM node as the third argument it will attach it to that object.</p> <p>Handy when creating small multiples. You can put your cake inside a loop and append a new <a href=/guide#target>target</a> div for every chart.</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { <span class=hljs-keyword>default</span> <span class=hljs-keyword>as</span> Layercake, newDiv } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>const</span> container = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'container'</span>);

<span class=hljs-keyword>const</span> styles = {
  <span class=hljs-attr>position</span>: <span class=hljs-string>'relative'</span>
};

<span class=hljs-keyword>const</span> myDiv = newDiv(<span class=hljs-string>'my-div'</span>, styles, container);

<span class=hljs-comment>// Or attach yourself</span>
<span class=hljs-keyword>const</span> myDiv = container.appendChild(newDiv(<span class=hljs-string>'my-div'</span>, styles));</code></pre></div><p>With small multiples:</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> {<span class=hljs-keyword>default</span> <span class=hljs-keyword>as</span> Layercake, newDiv} <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
<span class=hljs-keyword>import</span> AxisX <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisX.html'</span>
<span class=hljs-keyword>import</span> AxisY <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisY.html'</span>
<span class=hljs-keyword>import</span> Scatter <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Scatter.html'</span>

<span class=hljs-keyword>const</span> container = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'container'</span>);

<span class=hljs-keyword>const</span> styles = {
  <span class=hljs-attr>position</span>: <span class=hljs-string>'relative'</span>,
  <span class=hljs-attr>display</span>: <span class=hljs-string>'inline-block'</span>
};

<span class=hljs-keyword>const</span> datasets = [
  [data<span class=hljs-number>-1.</span>..],
  [data<span class=hljs-number>-2.</span>..],
  [data<span class=hljs-number>-3.</span>..]
];

datasets.forEach(<span class=hljs-function><span class=hljs-params>data</span> =></span> {
  <span class=hljs-keyword>const</span> target = newDiv(<span class=hljs-string>'my-div'</span>, styles, container);

  <span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
	target,
	data,
	<span class=hljs-attr>x</span>: <span class=hljs-string>'myX'</span>,
	<span class=hljs-attr>y</span>: <span class=hljs-string>'myY'</span>
  })
	.svgLayers([
	  { <span class=hljs-attr>component</span>: AxisX },
	  { <span class=hljs-attr>component</span>: AxisY },
	  { <span class=hljs-attr>component</span>: Scatter }
	]);

  myCake.render();
});</code></pre></div><h3 id=flatten>flatten<span class=call>(<span class=arguments>data: <code>Array</code></span>)</span><a href=/guide#flatten> </a></h3><p>Flatten an array one-level down. Handy for preparing data from stacked layouts whose extents can easily be calculated.</p> <p>This data:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}],
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>15</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>}]
];</code></pre></div><p>Becomes this:</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { flatten } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>const</span> flatData = flatten(data);
<span class=hljs-comment>/*
  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},
   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]
*/</span></code></pre></div><p>You can safely use this function on arrays of arrays of arrays, such as the output from <code>d3.stack()</code></p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]],
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]],
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]],
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]
]</code></pre></div><p>Becomes...</p> <div class=code-block><pre><code>[ [ <span class=hljs-number>0</span>, <span class=hljs-number>3840</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>640</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>320</span> ],
  [ <span class=hljs-number>3840</span>, <span class=hljs-number>5760</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>3040</span> ],
  [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>320</span>, <span class=hljs-number>800</span> ],
  [ <span class=hljs-number>5760</span>, <span class=hljs-number>6720</span> ],
  [ <span class=hljs-number>3040</span>, <span class=hljs-number>4000</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>2240</span> ],
  [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span> ],
  [ <span class=hljs-number>6720</span>, <span class=hljs-number>7120</span> ],
  [ <span class=hljs-number>4000</span>, <span class=hljs-number>4400</span> ],
  [ <span class=hljs-number>2240</span>, <span class=hljs-number>2640</span> ],
  [ <span class=hljs-number>1440</span>, <span class=hljs-number>1840</span> ]
]</code></pre></div><h3 id=scalecanvas>scaleCanvas<span class=call>(<span class=arguments>canvas: <code>DOM Node</code>, ctx: <code>Canvas Context</code>, width: <code>Number</code>, height: <code>Number</code></span>)</span><a href=/guide#scalecanvas> </a></h3><p>Scale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new <code>width</code> and <code>height</code> as properties.</p> <p>Such as in the <a href=/examples/Scatter>Scatter canvas</a> example:</p> <div class="code-block named"><span class=filename> Scatter.html</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
<span class=hljs-keyword>import</span> { scaleCanvas } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> {
  onstate () {
	<span class=hljs-keyword>const</span> { canvas, ctx, opts } = <span class=hljs-keyword>this</span>.get();
	<span class=hljs-keyword>const</span> { width, height, xGet, yGet, data, custom } = <span class=hljs-keyword>this</span>.store.get();

	scaleCanvas(canvas, ctx, width, height);
	ctx.clearRect(<span class=hljs-number>0</span>, <span class=hljs-number>0</span>, width, height);

	data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
	  ctx.beginPath();
	  ctx.arc(xGet(d), yGet(d), custom.r, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
	  ctx.fillStyle = opts.color;
	  ctx.fill();
	});
  }
};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><h3 id=calcextents>calcExtents<span class=call>(<span class=arguments>flatData: <code>Array</code>, fields: <code>Array</code></span>)</span><a href=/guide#calcextents> </a></h3><p>Calculate the extents of any of the keys specified in <strong>fields</strong>, which is an array of objects with <code>field</code> and <code>accessor</code> keys, representing the field name (x, y, r) and an accessor function.</p> <p>For example, calculating the extents for the x and y fields, which are in the data as <code>myX</code> and <code>myY</code> would look like this:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> extents = calcExtents(flatData, [
  {<span class=hljs-attr>field</span>: <span class=hljs-string>'x'</span>, <span class=hljs-attr>accessor</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.myX },
  {<span class=hljs-attr>field</span>: <span class=hljs-string>'y'</span>, <span class=hljs-attr>accessor</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.myY }
]);

<span class=hljs-built_in>console</span>.log(extents);
<span class=hljs-comment>/*
{
  x: [0, 10],
  y: [-20, 20]
}
*/</span></code></pre></div><p>Returns an object whose keys are the field names specified as the first item in the key group array followed by an array of <code>[min, max]</code>.</p> <h3 id=uniques>uniques<span class=call>(<span class=arguments>data: <code>Array</code>[, accessor: <code>String|Function</code>, transform: <code>Boolean</code>]</span>)</span><a href=/guide#uniques> </a></h3><p>A function get get the unique values from a list. If <strong>accessor</strong> is a string or a function, the uniqueness will be compared using that and, be default, the values in the returned list will be the ones returned by the accessor. Pass <code>false</code> to the <strong>transform</strong> argument if you want to return the original elements, which will be the first one that appears for every unique value.</p> <p>This is different from Underscore's <a href=https://underscorejs.org/#uniq>uniq</a> because that function doesn't return the transformed value.</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { uniques } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>const</span> data = [
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1990'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1990'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>5</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>4</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1991'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1991'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>6</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1992'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>6</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1992'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>7</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>3</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1993'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>7</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>8</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1993'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>3</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>2</span>}
];

<span class=hljs-keyword>const</span> uniqueYears = unique(data, <span class=hljs-string>'year'</span>);
<span class=hljs-comment>// ['1990', '1991', '1992', '1993']</span>

<span class=hljs-comment>// this is equivalent to</span>
<span class=hljs-keyword>const</span> uniqueYears = unique(data, d => d.year);

<span class=hljs-comment>// setting transform to `false` gives you the full row of the first unique element</span>
<span class=hljs-keyword>const</span> uniqueYears = unique(data, <span class=hljs-string>'year'</span>, <span class=hljs-literal>false</span>);
<span class=hljs-comment>/*
[
  {year: '1990', x: 0, y: 1},
  {year: '1991', x: 2, y: 5},
  {year: '1992', x: 1, y: 6},
  {year: '1993', x: 7, y: 8}
*/</span></code></pre></div> </section> </div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[{},null,(function(a,b,c,d,e,f,g,h){return {sections:[{html:"\u003Ch3 id=\"what-is-layer-cake\"\u003EWhat is Layer Cake?\u003Ca href=\"\u002Fguide#what-is-layer-cake\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ELayer Cake is a graphics framework, built on top of \u003Ca href=\"https:\u002F\u002Fsvelte.technology\"\u003ESvelte\u003C\u002Fa\u003E that removes the boilerplate from making responsive web graphics. it gives you common elements, like a coordinate system and scales, for you to start creating your own dataviz layers, like axes, plots and annotations.\u003C\u002Fp\u003E\n\u003Cp\u003EGive it some data and a target DOM element and Layer Cake will create a \u003Ca href=\"https:\u002F\u002Fsvelte.technology\u002Fguide#state-management\"\u003ESvelte store\u003C\u002Fa\u003E that includes scales bound to your element&#39;s dimensions and the data&#39;s extents. Layer Cake also includes higher level methods to organize multiple SVG, HTML and Canvas layers that use these scales.\u003C\u002Fp\u003E\n\u003Cp\u003EBy breaking a part a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web languages (SVG, Canvas, HTML, WebGL) by giving you a common coordinate system. You may be using Canvas for a scatterplot, SVG for axes and HTML for annotations but they all read from a common store and appear seamless to the viewer. You can choose the best technology for that part of the graphic without worrying about how it will interact with other elements.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELayer Cake uses D3 scales. See more in the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#yscale\"\u003EyScale\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fguide#rscale\"\u003ErScale\u003C\u002Fa\u003E sections of the \u003Ca href=\"\u002Fguide#store-api\"\u003EStore API\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ELayer Cake is more about having a system to organize your own custom components than it is a high-level charting library. It doesn&#39;t have any built-in concepts or strong opinions about how your data should be structured.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fguide#flatdata\"\u003E\u003Ccode\u003EflatData\u003C\u002Fcode\u003E\u003C\u002Fa\u003E option in the \u003Ca href=\"\u002Fguide#store-api\"\u003EStore API\u003C\u002Fa\u003E section and the \u003Ca href=\"\u002Fguide#flatten\"\u003E\u003Ccode\u003Eflatten\u003C\u002Fcode\u003E\u003C\u002Fa\u003E helper function for more info about data structure.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"getting-started\"\u003EGetting started\u003Ca href=\"\u002Fguide#getting-started\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EInstall Layer Cake in your \u003Ccode\u003EdevDependencies\u003C\u002Fcode\u003E alongside Svelte.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Enpm install --save-dev layercake\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe easiest way to get started is to clone down or use \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Frich-harris\u002Fdegit\"\u003Edegit\u003C\u002Fa\u003E to grab the starter template at \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\"\u003Egithub.com\u002Fmhkeller\u002Flayercake-template\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThe important files are like your \u003Ccode\u003Eindex.html\u003C\u002Fcode\u003E which has the DOM element we want to render into and the cake configuration in \u003Ccode\u003Emain.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Emy-app\n ‚îú‚îÄ‚îÄ index.html\n ‚îî‚îÄ‚îÄ js\n   ‚îî‚îÄ‚îÄ main.js\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E index.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- The target div needs to have a width and a height --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"chart-target\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estyle\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"width: 100%; height: 300px;\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E js\u002Fmain.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Define some data\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Instantiate the cake, point it to our target div\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F and which keys to look for on the data\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E),\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(myCake.get());\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EEach of the chart examples on the home page can be run locally by clicking into them and clikcing \u003Ccode\u003EDownload\u003C\u002Fcode\u003E. If you are using Layer Cake within Sapper, the code here in \u003Ccode\u003Emain.js\u003C\u002Fcode\u003E would go inside your components \u003Ccode\u003Eoncreate()\u003C\u002Fcode\u003E method, which is how this examples site is built.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EThe \u003Ccode\u003EmyCake\u003C\u002Fcode\u003E variable is a Svelte Store that just computed different properties to use in our chart. Because we gave Layer Cake values for \u003Ccode\u003Ex\u003C\u002Fcode\u003E and \u003Ccode\u003Ey\u003C\u002Fcode\u003E, it has measured the extent of our data&#39;s x- and y-dimensions and created \u003Ccode\u003ExScale\u003C\u002Fcode\u003E and \u003Ccode\u003EyScale\u003C\u002Fcode\u003E properties. It has also measured our DOM element as well as created x- and y-accessors so, for a given row of our data we can compute the value in our coordinate system.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { x, y, xScale, yScale } = myCake.get();\n\npoints.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E firstPoint = [xScale(x(d)), yScale(y(d))];\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EYou can also use the shorthand \u003Ccode\u003E[xGet(d), yGet(d)]\u003C\u002Fcode\u003E. See the \u003Ca href=\"\u002Fguide#store-api\"\u003EStore API\u003C\u002Fa\u003E section for a full list of computed properties.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EBecause Layer Cake has bound the target DOM element&#39;s dimensions to your scales, all computed properties will update on resize automatically.\u003C\u002Fp\u003E\n\u003Ch3 id=\"layer-components\"\u003ELayer components\u003Ca href=\"\u002Fguide#layer-components\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWhile it&#39;s perfectly fine to use Layer Cake as a store and implement the rest of your project your own way, the library also comes with higher-level methods to create graphic layers and lay them out in a common coordinate space.\u003C\u002Fp\u003E\n\u003Cp\u003ETo do this, pass a list of Svelte components to any of the \u003Ccode\u003E.svgLayers\u003C\u002Fcode\u003E, \u003Ccode\u003E.htmlLayers\u003C\u002Fcode\u003E, \u003Ccode\u003E.canvasLayers\u003C\u002Fcode\u003E or \u003Ccode\u003E.webglLayers\u003C\u002Fcode\u003E methods. When you&#39;ve added all the layers to your cake, run \u003Ccode\u003E.render()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example creating an SVG scatter plot using the above data.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Scatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FScatter.html'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n})\n  .svgLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Scatter, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'blue'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E } } \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F The opts field is optional but exists to let you pass settings down to your components so they can be more reusable.\u003C\u002Fspan\u003E\n  ])\n\nmyCake.render();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E \u002Fcomponents\u002FScatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E{#each $data as d}\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{xGet(d)}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{yGet(d)}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{opts.fill}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{opts.r}'\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EWe&#39;ve defined the circle&#39;s fill color and radius size in \u003Ccode\u003Emain.js\u003C\u002Fcode\u003E using the \u003Ccode\u003Eopts\u003C\u002Fcode\u003E field. You could very well hardcode these values into your layer component. Passing in values from \u003Ccode\u003Emains.js\u003C\u002Fcode\u003E is shown here to give an example of how you can make your components more reusable. For example, you could use the same layer component to render small multiples, but pass in a color to highlight one of them.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EOur DOM now looks something like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ewidth\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"&lt;el width&gt;\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eheight\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"&lt;el height&gt;\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- One main g to wrap all layers --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Scatter g --&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvg\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"more-layer-types\"\u003EMore layer types\u003Ca href=\"\u002Fguide#more-layer-types\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWe just saw how to add SVG layers with the \u003Ccode\u003E.svgLayers\u003C\u002Fcode\u003E method. You also have \u003Ccode\u003EhtmlLayers\u003C\u002Fcode\u003E and \u003Ccode\u003EcanvasLayers\u003C\u002Fcode\u003E. For the SVG and HTML groups, every item in the array will create a new DOM element to render into, \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E for SVG and \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E for HTML. For Canvas, since there&#39;s no DOM equivalent, each layer renders into the same Canvas context. See the \u003Ca href=\"examples\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example for details.\u003C\u002Fp\u003E\n\u003Cp\u003ELayers are rendered in the order they appear and you can call these methods multiple times to create a new layout group.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E ScatterCanvas \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FScatterCanvas.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisX \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisX.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisY \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisY.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Annotations \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAnnotations.html'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E blurbs = [\n  { \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Etext\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'Look at this value!'\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n})\n  .canvasLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Scatter, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'blue'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E } }\n  ])\n  .svgLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisX, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { } },\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisY, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { } }\n  ])\n  .htmlLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Annotations, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { blurbs } }\n  ]);\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F If you needed to, you could do `.svgLayers` again...\u003C\u002Fspan\u003E\n\nmyCake.render();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EMany common chart types have example pages. See the gallery at \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Ehttps:\u002F\u002Flayercake.graphics\u003C\u002Fa\u003E or use the dropdown menu at the top of the page to navigate to one.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"data-less-cakes\"\u003EData-less cakes\u003Ca href=\"\u002Fguide#data-less-cakes\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EYou can also use Layer Cake to simply arrange SVG, HTML, Canvas and WebGL elements on top of one another, sharing the same dimensions. For example, this would be handy if you have some SVG artwork that you want to put on top of an HTML video player.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example just setting the \u003Ccode\u003Etarget\u003C\u002Fcode\u003E value.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Frame \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FFrame.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E VideoPlayer \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FVideoPlayer.html'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n})\n  .svgLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Frame }\n  ])\n  .htmlLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: VideoPlayer }\n  ]);\n\nmyCake.render();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake",title:"What is Layer Cake?"},{slug:"getting-started",title:"Getting started"},{slug:"layer-components",title:"Layer components"},{slug:"more-layer-types",title:"More layer types"},{slug:"data-less-cakes",title:"Data-less cakes"}],slug:"introduction",file:"00-introduction.md"},{html:"\u003Cp\u003EThese are the options you can pass into \u003Ccode\u003Enew LayerCake()\u003C\u002Fcode\u003E. You can also set your own custom values and they will be normal store properties. Many of the examples do this to set color scales or other values that will be used across components, for instance. To make sure the names don&#39;t conflict, the examples suffix any custom properties with an underscore, but it&#39;s not required.\u003C\u002Fp\u003E\n\u003Ch3 id=\"target\"\u003Etarget \u003Ccode\u003EDOM Node\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#target\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe DOM object you want to use as the the basis for measurements and for rendering into.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'my-chart'\u003C\u002Fspan\u003E)\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EOnly \u003Ccode\u003Etarget\u003C\u002Fcode\u003E is required. Everything else is optional.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"data\"\u003Edata \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#data\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA list of data items. This is available on the store as \u003Ccode\u003E$data\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"x\"\u003Ex \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#x\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to an accessor function available on the store as \u003Ccode\u003E$x\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'myX'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F equivalent to...\u003C\u002Fspan\u003E\n  x: \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E d.myX\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can also give this value an array of strings or arrays of functions. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts and Cleveland dot plots. See the \u003Ca href=\"\u002Fexamples\u002FBarStacked\"\u003EStacked bar\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexamples\u002FAreaStacked\"\u003EStacked area\u003C\u002Fa\u003E or \u003Ca href=\"\u002Fexamples\u002FColumnStacked\"\u003EStacked colummn\u003C\u002Fa\u003E for complete examples.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an overview using the \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E to make a horizontal bar chart, which will have two values for the x-accessor.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stack = d3.stack()\n\t.keys([\u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'cherries'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'dates'\u003C\u002Fspan\u003E]);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E series = stack(data);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe data is now an array of values. The \u003Ccode\u003Emonth\u003C\u002Fcode\u003E values you can&#39;t see because sneakily stashes them as a property on the array, accessible as \u003Ccode\u003Ed.data\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F apples\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F bananas\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F cherries\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F dates\u003C\u002Fspan\u003E\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe x- and y-accessors would then look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.data.month\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ECalls to \u003Ccode\u003Ex(dataRow)\u003C\u002Fcode\u003E in this scenario will return the two-value array. Calls to \u003Ccode\u003ExGet(dataRow)\u003C\u002Fcode\u003E will return a two-value array, mapped through the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"y\"\u003Ey \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#y\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the y scale. The accessor function is available on the store as \u003Ccode\u003E$y\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r\"\u003Er \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#r\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the r scale. The accessor function is available on the store as \u003Ccode\u003E$r\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"padding\"\u003Epadding \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#padding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object that can specify \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, or \u003Ccode\u003Eleft\u003C\u002Fcode\u003E padding in pixels. Any unspecified values are filled in as \u003Ccode\u003E0\u003C\u002Fcode\u003E. Padding operates like CSS \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E where values are subtracted from the target container&#39;s width and height, the same as \u003Ca href=\"https:\u002F\u002Fbl.ocks.org\u002Fmbostock\u002F3019563\"\u003Ea D3 margin convention\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebottom\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eleft\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E },\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F equivalent to...\u003C\u002Fspan\u003E\n  padding: { \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E }\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EAnother way to set padding is to add it via normal CSS on your \u003Ca href=\"\u002Fguide#target\"\u003Etarget\u003C\u002Fa\u003E div. The target element is assigned CSS of \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E so padding settings won&#39;t affect the width or height. If you set any padding via CSS, the padding object will be ignored.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"xscale\"\u003ExScale \u003Ccode\u003Ed3Scale()\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EPass in an instantiated D3 scale if you want to override the default \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E or you want to add extra options.\u003C\u002Fp\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexamples\u002FColumn\"\u003EColumn chart\u003C\u002Fa\u003E for an example of passing in a \u003Ccode\u003Ed3.scaleBand()\u003C\u002Fcode\u003E to override the default.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale\"\u003EyScale \u003Ccode\u003Ed3Scale()\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the y scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale\"\u003ErScale \u003Ccode\u003Ed3Scale()\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the r scale. The default is \u003Ccode\u003Ed3.scaleSqrt()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain\"\u003ExDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESet a min or max on the x scale. If you want to inherit the value from the data&#39;s extent, set that value to \u003Ccode\u003Enull\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Fixes the x scale's domain\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F or..\u003C\u002Fspan\u003E\n  xDomain: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Enull\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Fixes the min but allows the max to be whatever is in the data\u003C\u002Fspan\u003E\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ydomain\"\u003EyDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ydomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain\"\u003ErDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"reversex\"\u003EreverseX \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#reversex\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"reversey\"\u003EreverseY \u003Ccode\u003EBoolean=true\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#reversey\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default y domain. By default this is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[height, 0]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xpadding\"\u003ExPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAssign a pixel value to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. It uses D3 scale&#39;s \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-scale#continuous_invert\"\u003Einvert function\u003C\u002Fa\u003E, so this only applies to continuous scales like \u003Ccode\u003EscaleLinear\u003C\u002Fcode\u003E. This is useful for adding extra space to a scatter plot so that your circles don&#39;t interfere with your y axis.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ExPadding\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add ten pixels of data units to both sides of the scale's domain\u003C\u002Fspan\u003E\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ypadding\"\u003EyPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ypadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rpadding\"\u003ErPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange\"\u003ErRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIf you&#39;re using the r scale, set it&#39;s range here since it doesn&#39;t infer that from anything in the layout. The r scale defaults to \u003Ccode\u003Ed3.scaleSqrt\u003C\u002Fcode\u003E so make sure you don&#39;t use a zero in your range.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ErRange\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E]\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"xnice\"\u003ExNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EApplies D3&#39;s \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-scale#continuous_nice\"\u003Escale.nice()\u003C\u002Fa\u003E to the x domain. This is a separate option instead of being one you can apply to a passed in scale because D3&#39;s &quot;nice&quot; transformation only works on existing domains and does not use a state to be able to tell if your existing scale wants to be nice.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ynice\"\u003EyNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ynice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExNice\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rnice\"\u003ErNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExNice\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"flatdata\"\u003EflatData \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#flatdata\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIn order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can find. If your data is not flat (often the case if your renderers prefer a more nested format), you can tell it to measure extents against a flat version. This \u003Cem\u003Ewill not\u003C\u002Fem\u003E change the shape of the data that gets passed to components ‚Äî it is only for extent calculation.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe library also exports a flattening function to handle common use cases if you need to flatten your data and you don&#39;t already have a flat version. See the \u003Ca href=\"\u002Fguide#flatten\"\u003Eflatten\u003C\u002Fa\u003E helper function for more info.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere&#39;s an example showing passing different data formats for extent calculation versus what is used by layer components.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\n\t\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E}, ...]\n  },\n  {\n\t\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E}, ...]\n  },\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n\ttarget,\n\t\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'month'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'value'\u003C\u002Fspan\u003E,\n\tdata,\n\tflatData\n  });\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Store API"},subsections:[{slug:a,title:a},{slug:b,title:b},{slug:c,title:c},{slug:d,title:d},{slug:e,title:e},{slug:f,title:f},{slug:"xscale",title:"xScale"},{slug:"yscale",title:"yScale"},{slug:"rscale",title:"rScale"},{slug:"xdomain",title:"xDomain"},{slug:"ydomain",title:"yDomain"},{slug:"rdomain",title:"rDomain"},{slug:"reversex",title:"reverseX"},{slug:"reversey",title:"reverseY"},{slug:"xpadding",title:"xPadding"},{slug:"ypadding",title:"yPadding"},{slug:"rpadding",title:"rPadding"},{slug:"rrange",title:"rRange"},{slug:"xnice",title:"xNice"},{slug:"ynice",title:"yNice"},{slug:"rnice",title:"rNice"},{slug:"flatdata",title:"flatData"}],slug:"store-api",file:"01-store-api.md"},{html:"\u003Cp\u003EWhen you run \u003Ccode\u003Enew LayerCake(StoreValues)\u003C\u002Fcode\u003E the Svelte store you get back has the following methods.\u003C\u002Fp\u003E\n\u003Cp\u003EEach of the \u003Ccode\u003ExyzLayers\u003C\u002Fcode\u003E functions takes as a first argument an array of objects for each layer. You can optionally pass in an options object as the second argument. All of the layers methods share this pattern:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E.xyzLayers([\n  { \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: SvelteComponent, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: {} }\n], {\n  \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E: \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eoptional\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ez-index\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Enumber\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u002F\u002F Canvas and WebGL will pass along other values put here as options to the native methods\n})\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIf you set an \u003Ccode\u003Eopts\u003C\u002Fcode\u003E object on your component layer, those values will be available in the component under \u003Ccode\u003Eopts\u003C\u002Fcode\u003E, e.g. \u003Ccode\u003E{ component: MyComponent, opts: { color: &#39;#f0c&#39; } }\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EAll of the container elements created by \u003Ccode\u003ELayers\u003C\u002Fcode\u003E functions are absolutely positioned and use any \u003Ca href=\"#padding\"\u003Epadding\u003C\u002Fa\u003E that is set. That way, they share the same coordinate system and can sit one on top of another.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"svglayers\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EsvgLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecomponents: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, opts: \u003Ccode\u003EObject\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#svglayers\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECreates a \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E element containing one \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E wrapper element, which gets translated based on any \u003Ca href=\"#padding\"\u003Epadding\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor every component layer in the passed in array, a \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E element is created.\u003C\u002Fp\u003E\n\u003Ch3 id=\"htmllayers\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EhtmlLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecomponents: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, opts: \u003Ccode\u003EObject\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#htmllayers\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECreates a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E element.\u003C\u002Fp\u003E\n\u003Cp\u003EFor every component layer in the passed in array, a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E element is created.\u003C\u002Fp\u003E\n\u003Ch3 id=\"canvaslayers\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EcanvasLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecomponents: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, opts: \u003Ccode\u003EObject\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#canvaslayers\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECreates a \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E element.\u003C\u002Fp\u003E\n\u003Cp\u003EBecause canvas elements have no DOM representation for each layer, you get access to the canvas and the 2d context as \u003Cem\u003Edata items\u003C\u002Fem\u003E in each layer component. These aren&#39;t store values since you could have multiple canvas elements in a cake.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means you access the \u003Ccode\u003Ecanvas\u003C\u002Fcode\u003E and \u003Ccode\u003Ectx\u003C\u002Fcode\u003E using \u003Ccode\u003Ethis.get()\u003C\u002Fcode\u003E instead of \u003Ccode\u003Ethis.store.get()\u003C\u002Fcode\u003E. For example, here&#39;s how a scatterplot layer component would be implemented in canvas.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E CanvasLayer.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  oncreate () {\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { canvas, ctx } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.get();\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { xGet, yGet, data } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.store.get();\n\n\tdata.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n\t  ctx.beginPath();\n\t  ctx.arc(xGet(d), yGet(d), opts.r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\t  ctx.fillStyle = opts.color;\n\t  ctx.fill();\n\t});\n  }\n};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ECanvas layouts have more options for \u003Ccode\u003Eopts\u003C\u002Fcode\u003E. Anything you set here (except for \u003Ccode\u003EzIndex\u003C\u002Fcode\u003E) will get passed as the second argument to  \u003Ccode\u003Ecanvas.getContext(&#39;2d&#39;, opts)\u003C\u002Fcode\u003E. See the \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FHTMLCanvasElement\u002FgetContext\"\u003ECanvas docs\u003C\u002Fa\u003E for what options are possible.\u003C\u002Fp\u003E\n\u003Ch3 id=\"webgllayers\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EwebglLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecomponents: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, opts: \u003Ccode\u003EObject\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#webgllayers\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the canvas element except instead of \u003Ccode\u003Ectx\u003C\u002Fcode\u003E you have \u003Ccode\u003Egl\u003C\u002Fcode\u003E as a component-level data item, which is your webgl context. If webgl is not supported, \u003Ccode\u003Egl\u003C\u002Fcode\u003E will be \u003Ccode\u003Enull\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESame as in \u003Ccode\u003E.canvasLayers\u003C\u002Fcode\u003E, any options that you set on \u003Ccode\u003Eopts\u003C\u002Fcode\u003E (except for \u003Ccode\u003EzIndex\u003C\u002Fcode\u003E) will get passed as the second argument to  \u003Ccode\u003Ecanvas.getContext(&#39;webgl&#39;, opts)\u003C\u002Fcode\u003E. See the \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FHTMLCanvasElement\u002FgetContext\"\u003ECanvas docs\u003C\u002Fa\u003E for what options are possible.\u003C\u002Fp\u003E\n\u003Ch3 id=\"render\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003Erender\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Eoptions: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#render\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EInstantiates your cake and layout groups. Returns an object \u003Ccode\u003E{ app, store }\u003C\u002Fcode\u003E where \u003Ccode\u003Eapp\u003C\u002Fcode\u003E is the instantiated Svelte app and \u003Ccode\u003Estore\u003C\u002Fcode\u003E is the cake&#39;s Svelte store. Any options you pass in are added as \u003Ca href=\"https:\u002F\u002Fsvelte.technology\u002Fguide#component-options\"\u003ESvelte options\u003C\u002Fa\u003E, including \u003Ccode\u003Ehydrate\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n",metadata:{title:"Cake API"},subsections:[{slug:"svglayers",title:"cake.svgLayers(...)"},{slug:"htmllayers",title:"cake.htmlLayers(...)"},{slug:"canvaslayers",title:"cake.canvasLayers(...)"},{slug:"webgllayers",title:"cake.webglLayers(...)"},{slug:"render",title:"cake.render(...)"}],slug:"cake-api",file:"02-cake-api.md"},{html:"\u003Cp\u003ESome convenience functions and other internal properties are exposed to the user on the store in case they&#39;re handy.\u003C\u002Fp\u003E\n\u003Ch3 id=\"activekeys\"\u003EactiveKeys \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#activekeys\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA list of all the keys that have an accessor set.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'r'\u003C\u002Fspan\u003E]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"box\"\u003Ebox \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#box\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA bounding box object of the \u003Ca href=\"\u002Fguide#target\"\u003Etarget\u003C\u002Fa\u003E element with \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, \u003Ccode\u003Eleft\u003C\u002Fcode\u003E, \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E numbers in pixels. Useful for creating tooltips.\u003C\u002Fp\u003E\n\u003Ch3 id=\"domains\"\u003Edomains \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#domains\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object containing a key for every \u003Ca href=\"\u002Fguide#activekeys\"\u003Eactive key\u003C\u002Fa\u003E whose value is a two-value array representing the min and max values for that field in the data. This value could differ from the domain of your scale if you are manually setting a limit on your scale by setting any of the \u003Ccode\u003ExDomain\u003C\u002Fcode\u003E, \u003Ccode\u003EyDomain\u003C\u002Fcode\u003E or \u003Ccode\u003ErDomain\u003C\u002Fcode\u003E settings. This is used internally to set domain things but it&#39;s also useful as a reference if you want to toggle between an arbitrary domain and the measured extents of the data, such as in the \u003Ca href=\"\u002Fexamples\u002FSmallMultiples\"\u003Esmall multiples example\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"originalsettings\"\u003EoriginalSettings \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#originalsettings\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA shallow copy of the object passed in to \u003Ccode\u003Enew LayerCake(&lt;settings&gt;)\u003C\u002Fcode\u003E. This can be useful to refer to in some situations such as in the \u003Ca href=\"\u002Fexamples\u002FClevelandDotPlot\"\u003ECleveland Dot Plot example\u003C\u002Fa\u003E, which uses the x-accessor shorthand of providing a list of keys. This list of strings gets mapped to a list of accessor functions inside the layer component but we can reference that original list of strings to know which field we&#39;re in based on index, which gets passed to the color scale! Broadly, having access to this field can help you not repeat yourself in specifying things twice or in scenarios where Layer Cake is doing a transformation on that original value, like in accessors or domain inputs, and you want to know about the original value.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xget\"\u003ExGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#xget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOften you want to get the x value from a row in your data and scale it like so: \u003Ccode\u003E$xScale($x(d))\u003C\u002Fcode\u003E. This function is shorthand for doing just that. Super handy!\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example from a simple SVG line path generator:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Ecomputed: {\n  \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003E{ $data, $xGet, $yGet }\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'M'\u003C\u002Fspan\u003E + $data\n\t  .map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003Ed, i\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E $xGet(d) + \u003Cspan class=\"hljs-string\"\u003E','\u003C\u002Fspan\u003E + $yGet(d);\n\t  })\n\t  .join(\u003Cspan class=\"hljs-string\"\u003E'L'\u003C\u002Fspan\u003E);\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yget\"\u003EyGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#yget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rget\"\u003ErGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#rget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n",metadata:{title:"Computed Store Properties"},subsections:[{slug:"activekeys",title:"activeKeys"},{slug:g,title:g},{slug:h,title:h},{slug:"originalsettings",title:"originalSettings"},{slug:"xget",title:"xGet(...)"},{slug:"yget",title:"yGet(...)"},{slug:"rget",title:"rGet(...)"}],slug:"computed-store-functions",file:"04-computed-store-functions.md"},{html:"\u003Cp\u003ELayer Cake exposes some commonly-used helper functions. If you don&#39;t use them, they will be tree-shaken so there&#39;s no added bloat!\u003C\u002Fp\u003E\n\u003Ch3 id=\"newdiv\"\u003EnewDiv\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EclassName: \u003Ccode\u003EString\u003C\u002Fcode\u003E[, styles: \u003Ccode\u003EObject\u003C\u002Fcode\u003E, parent: \u003Ccode\u003EDOM Node\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#newdiv\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EEasily create new divs. If you pass a DOM node as the third argument it will attach it to that object.\u003C\u002Fp\u003E\n\u003Cp\u003EHandy when creating small multiples. You can put your cake inside a loop and append a new \u003Ca href=\"\u002Fguide#target\"\u003Etarget\u003C\u002Fa\u003E div for every chart.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eas\u003C\u002Fspan\u003E Layercake, newDiv } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E container = \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'container'\u003C\u002Fspan\u003E);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E styles = {\n  \u003Cspan class=\"hljs-attr\"\u003Eposition\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'relative'\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myDiv = newDiv(\u003Cspan class=\"hljs-string\"\u003E'my-div'\u003C\u002Fspan\u003E, styles, container);\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Or attach yourself\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myDiv = container.appendChild(newDiv(\u003Cspan class=\"hljs-string\"\u003E'my-div'\u003C\u002Fspan\u003E, styles));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EWith small multiples:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eas\u003C\u002Fspan\u003E Layercake, newDiv} \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisX \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisX.html'\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisY \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisY.html'\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Scatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FScatter.html'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E container = \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'container'\u003C\u002Fspan\u003E);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E styles = {\n  \u003Cspan class=\"hljs-attr\"\u003Eposition\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'relative'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edisplay\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'inline-block'\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E datasets = [\n  [data\u003Cspan class=\"hljs-number\"\u003E-1.\u003C\u002Fspan\u003E..],\n  [data\u003Cspan class=\"hljs-number\"\u003E-2.\u003C\u002Fspan\u003E..],\n  [data\u003Cspan class=\"hljs-number\"\u003E-3.\u003C\u002Fspan\u003E..]\n];\n\ndatasets.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Edata\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E target = newDiv(\u003Cspan class=\"hljs-string\"\u003E'my-div'\u003C\u002Fspan\u003E, styles, container);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n\ttarget,\n\tdata,\n\t\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'myX'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'myY'\u003C\u002Fspan\u003E\n  })\n\t.svgLayers([\n\t  { \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisX },\n\t  { \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisY },\n\t  { \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Scatter }\n\t]);\n\n  myCake.render();\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatten\"\u003Eflatten\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#flatten\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFlatten an array one-level down. Handy for preparing data from stacked layouts whose extents can easily be calculated.\u003C\u002Fp\u003E\n\u003Cp\u003EThis data:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}],\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}]\n];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { flatten } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = flatten(data);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},\n   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can safely use this function on arrays of arrays of arrays, such as the output from \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes...\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[ [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E ]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scalecanvas\"\u003EscaleCanvas\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecanvas: \u003Ccode\u003EDOM Node\u003C\u002Fcode\u003E, ctx: \u003Ccode\u003ECanvas Context\u003C\u002Fcode\u003E, width: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E, height: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#scalecanvas\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EScale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E as properties.\u003C\u002Fp\u003E\n\u003Cp\u003ESuch as in the \u003Ca href=\"\u002Fexamples\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E Scatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  onstate () {\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { canvas, ctx, opts } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.get();\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { width, height, xGet, yGet, data, custom } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.store.get();\n\n\tscaleCanvas(canvas, ctx, width, height);\n\tctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, width, height);\n\n\tdata.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n\t  ctx.beginPath();\n\t  ctx.arc(xGet(d), yGet(d), custom.r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\t  ctx.fillStyle = opts.color;\n\t  ctx.fill();\n\t});\n  }\n};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"calcextents\"\u003EcalcExtents\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EflatData: \u003Ccode\u003EArray\u003C\u002Fcode\u003E, fields: \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#calcextents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECalculate the extents of any of the keys specified in \u003Cstrong\u003Efields\u003C\u002Fstrong\u003E, which is an array of objects with \u003Ccode\u003Efield\u003C\u002Fcode\u003E and \u003Ccode\u003Eaccessor\u003C\u002Fcode\u003E keys, representing the field name (x, y, r) and an accessor function.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, calculating the extents for the x and y fields, which are in the data as \u003Ccode\u003EmyX\u003C\u002Fcode\u003E and \u003Ccode\u003EmyY\u003C\u002Fcode\u003E would look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E extents = calcExtents(flatData, [\n  {\u003Cspan class=\"hljs-attr\"\u003Efield\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eaccessor\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myX },\n  {\u003Cspan class=\"hljs-attr\"\u003Efield\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eaccessor\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myY }\n]);\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(extents);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n{\n  x: [0, 10],\n  y: [-20, 20]\n}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EReturns an object whose keys are the field names specified as the first item in the key group array followed by an array of \u003Ccode\u003E[min, max]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"uniques\"\u003Euniques\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, accessor: \u003Ccode\u003EString|Function\u003C\u002Fcode\u003E, transform: \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#uniques\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA function get get the unique values from a list. If \u003Cstrong\u003Eaccessor\u003C\u002Fstrong\u003E is a string or a function, the uniqueness will be compared using that and, be default, the values in the returned list will be the ones returned by the accessor. Pass \u003Ccode\u003Efalse\u003C\u002Fcode\u003E to the \u003Cstrong\u003Etransform\u003C\u002Fstrong\u003E argument if you want to return the original elements, which will be the first one that appears for every unique value.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is different from Underscore&#39;s \u003Ca href=\"https:\u002F\u002Funderscorejs.org\u002F#uniq\"\u003Euniq\u003C\u002Fa\u003E because that function doesn&#39;t return the transformed value.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { uniques } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'layercake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1990'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1990'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1991'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1991'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1992'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1992'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1993'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'1993'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E'year'\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ['1990', '1991', '1992', '1993']\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F this is equivalent to\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, d =&gt; d.year);\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F setting transform to `false` gives you the full row of the first unique element\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E'year'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n[\n  {year: '1990', x: 0, y: 1},\n  {year: '1991', x: 2, y: 5},\n  {year: '1992', x: 1, y: 6},\n  {year: '1993', x: 7, y: 8}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Helper functions"},subsections:[{slug:"newdiv",title:"newDiv(...)"},{slug:"flatten",title:"flatten(...)"},{slug:"scalecanvas",title:"scaleCanvas(...)"},{slug:"calcextents",title:"calcExtents(...)"},{slug:"uniques",title:"uniques(...)"}],slug:"helper-functions",file:"99-helper-functions.md"}]}}("target","data","x","y","r","padding","box","domains"))],store:(function(a,b,c,d,e,f,g,h){return {guideContents:[{metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake",title:"What is Layer Cake?"},{slug:"getting-started",title:"Getting started"},{slug:"layer-components",title:"Layer components"},{slug:"more-layer-types",title:"More layer types"},{slug:"data-less-cakes",title:"Data-less cakes"}],slug:"introduction"},{metadata:{title:"Store API"},subsections:[{slug:a,title:a},{slug:b,title:b},{slug:c,title:c},{slug:d,title:d},{slug:e,title:e},{slug:f,title:f},{slug:"xscale",title:"xScale"},{slug:"yscale",title:"yScale"},{slug:"rscale",title:"rScale"},{slug:"xdomain",title:"xDomain"},{slug:"ydomain",title:"yDomain"},{slug:"rdomain",title:"rDomain"},{slug:"reversex",title:"reverseX"},{slug:"reversey",title:"reverseY"},{slug:"xpadding",title:"xPadding"},{slug:"ypadding",title:"yPadding"},{slug:"rpadding",title:"rPadding"},{slug:"rrange",title:"rRange"},{slug:"xnice",title:"xNice"},{slug:"ynice",title:"yNice"},{slug:"rnice",title:"rNice"},{slug:"flatdata",title:"flatData"}],slug:"store-api"},{metadata:{title:"Cake API"},subsections:[{slug:"svglayers",title:"cake.svgLayers(...)"},{slug:"htmllayers",title:"cake.htmlLayers(...)"},{slug:"canvaslayers",title:"cake.canvasLayers(...)"},{slug:"webgllayers",title:"cake.webglLayers(...)"},{slug:"render",title:"cake.render(...)"}],slug:"cake-api"},{metadata:{title:"Computed Store Properties"},subsections:[{slug:"activekeys",title:"activeKeys"},{slug:g,title:g},{slug:h,title:h},{slug:"originalsettings",title:"originalSettings"},{slug:"xget",title:"xGet(...)"},{slug:"yget",title:"yGet(...)"},{slug:"rget",title:"rGet(...)"}],slug:"computed-store-functions"},{metadata:{title:"Helper functions"},subsections:[{slug:"newdiv",title:"newDiv(...)"},{slug:"flatten",title:"flatten(...)"},{slug:"scalecanvas",title:"scaleCanvas(...)"},{slug:"calcextents",title:"calcExtents(...)"},{slug:"uniques",title:"uniques(...)"}],slug:"helper-functions"}]}}("target","data","x","y","r","padding","box","domains"))};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');</script><script src=/client/d0fcc2fc6e531ea84cd2/main.js></script> 